# 線上候位系統 - 管理員使用教學

## 🎯 系統簡介

歡迎使用線上候位系統！這是一個專為現場候位管理設計的網頁系統，無需下載任何App，管理員和客戶都可以透過網頁瀏覽器直接使用。

### 系統特色
- ✅ **純網頁應用**：無需下載App，任何裝置都能使用
- ✅ **即時同步**：前台和後台資訊即時更新
- ✅ **智慧預估**：自動計算等待時間和預估叫號時間
- ✅ **多裝置支援**：手機、平板、電腦都能完美運作
- ✅ **響應式設計**：介面自動適應不同螢幕大小

### 系統架構
- **前台頁面**：供客戶使用，可候位登記、查詢狀態
- **管理後台**：供管理員使用，可管理候位、設定系統
- **即時通訊**：前後台資訊即時同步，無需手動重新整理

## 🔐 管理員登入

### 登入網址
- **正式環境**：https://online-waiting-queue-system.zeabur.app/admin/login
- **本地測試**：http://localhost:3100/admin/login（開發環境）

### 預設登入資訊
- **帳號**：`admin`
- **密碼**：`admin123`

⚠️ **重要安全提醒**：
- 不要在公共電腦上保存登入資訊
- 使用完畢後記得登出系統

## 📊 後台主要功能

### 1. 候位管理頁面（主頁面）

#### 🔍 候位列表功能
- **查看所有候位客戶**：即時顯示所有等待中、處理中、已完成的客戶
- **叫號順序管理**：按照叫號順序排列，1號為目前處理中
- **狀態顯示**：
  - 🟡 **等待中**：叫號順序2以後的客戶
  - 🟢 **處理中**：叫號順序1的客戶（目前叫號）
  - ✅ **已完成**：已處理完成的客戶

#### ✅ 標記完成操作
- **勾選方格**：點擊客戶列表左側的空白方格即可標記為已完成
- **自動排序**：已完成的客戶會自動移到列表最後
- **叫號進度**：系統會自動調整叫號順序

#### 📞 一鍵叫號功能
- **操作方式**：點擊「呼叫下一位」按鈕
- **自動處理**：系統會自動將目前叫號（順序1）的客戶標記為已完成
- **順序調整**：後續客戶的叫號順序自動前移

#### 🔄 拖曳調整順序
- **操作方式**：直接拖曳客戶列表調整叫號順序
- **即時生效**：拖曳後立即更新，無需等待
- **保持號碼**：候位號碼不變，僅調整叫號順序

#### 📋 客戶詳細資料管理
- **查看詳情**：點擊「詳細資料」查看客戶完整資訊
- **編輯功能**：可修改客戶的基本資料、地址、家人資訊等
- **其他詳細內容管理**：可查看和編輯客戶填寫的「其他」諮詢詳細內容，系統會以「其他(詳細內容)」格式顯示在諮詢主題欄位中
- **地址管理**：支援最多3個地址，含地址類型設定
- **家人管理**：支援最多5位家人，含完整個人資料

#### 🗑️ 客戶管理操作
- **刪除客戶**：永久刪除客戶資料（含確認對話框）
- **取消預約**：將客戶移至「已取消客戶」分頁
- **復原功能**：可將已取消的客戶重新設為等待中

#### 📊 表格欄位設定
- **自訂顯示欄位**：可選擇要顯示的欄位（叫號順序、號碼、姓名、電話等）
- **設定持久化**：選擇的欄位設定會自動保存
- **重置功能**：可一鍵恢復預設欄位配置

### 2. 已取消客戶分頁

#### 📝 已取消客戶管理
- **查看列表**：顯示所有已取消的客戶記錄
- **復原功能**：可將已取消客戶重新設為等待中狀態
- **永久刪除**：可徹底刪除已取消的客戶資料

### 3. 系統設定頁面

#### ⏰ 時間設定
- **設定下次辦事時間**：使用日期時間選擇器設定
- **即時生效**：設定後所有預估時間立即更新
- **格式顯示**：前台會顯示上下午格式的時間

#### ⚙️ 候位系統控制
- **辦事狀態控制**：
  - **開始辦事**：顯示目前叫號和候位狀態，正常進行辦事服務
  - **停止辦事**：隱藏叫號相關顯示，但不影響候位登記功能
  - **狀態說明**：僅控制前台是否顯示叫號資訊，候位登記功能由「公開候位登記設置」獨立控制
- **最大候位上限**：設定候位數量上限（預設100人，可調整1-999）
- **處理時間設定**：每位客戶預估處理時間（預設13分鐘，可調整1-120分鐘）
- **簡化模式控制**：
  - **功能說明**：啟用簡化模式可大幅減少候位登記所需填寫的資料
  - **標準模式**：需要完整填寫所有必要資料（姓名、電話、電子郵件、地址等）
  - **簡化模式**：僅需填寫客戶姓名，其他資料自動補齊預設值
  - **適用場景**：緊急情況或需要快速登記候位時使用
  - **切換方式**：使用系統設定頁面的開關控制，立即生效
  - **狀態提示**：系統會顯示目前啟用的模式和相關警告資訊
- **公開候位登記設置**：★ **新功能**
  - **功能說明**：控制一般民眾是否可以在前台直接進行候位登記
  - **開啟狀態**：民眾可在首頁看到並使用「我要候位」功能
  - **關閉狀態**：首頁隱藏候位登記功能，僅管理員可透過後台登記
  - **管理員特權**：無論開關狀態如何，管理員都可使用後台「登記候位」功能
  - **即時生效**：設定變更立即生效，無需重啟系統或重新部署
  - **預設狀態**：預設為關閉，保持安全控制
  - **與辦事狀態獨立**：完全獨立於辦事狀態，可靈活組合使用（例：停止辦事但開放候位登記）

#### 🎯 目前叫號顯示
- **自動更新**：系統會自動顯示叫號順序1的客戶號碼
- **同步首頁**：確保前台首頁顯示的叫號與後台一致

#### 🗑️ 系統維護
- **清除候位**：一鍵清除所有候位記錄
- **確認機制**：重要操作都有確認對話框防止誤操作

### 4. 資料匯出功能

#### 📊 匯出格式
- **Excel格式**：完整的客戶資料表格（.xlsx）
- **CSV格式**：適合其他系統匯入的格式

#### 📋 匯出內容
- **基本資料**：候位號碼、姓名、電話、電子郵件、性別等
- **出生資訊**：國曆/農曆出生日期、虛歲計算
- **地址資訊**：完整地址和地址類型
- **家人資料**：所有家庭成員的詳細資訊
- **諮詢主題**：客戶選擇的諮詢項目，包含「其他」詳細內容
- **時間記錄**：登記時間、更新時間、完成時間

#### 📈 資料分析
- **分行顯示**：主客戶和家人分別顯示在不同行
- **成員標識**：清楚標示「主客戶」或「家庭成員1/2/3...」
- **完整記錄**：包含所有狀態的客戶（等待中、已完成、已取消）

## 🎨 界面操作技巧

### 字體大小調整
- **位置**：頂部導航欄右側
- **選項**：小(16px)、中(20px)、大(24px)、特大(28px)
- **自動保存**：設定會自動保存至下次使用

### 響應式操作
- **桌面版**：使用滑鼠操作，完整功能顯示
- **手機版**：使用觸控操作，漢堡選單導航
- **平板版**：觸控和滑鼠雙重支援

### 快捷操作
- **勾選完成**：直接點擊方格標記客戶已完成
- **拖曳排序**：直接拖拽調整叫號順序
- **快速編輯**：點擊詳細資料進行客戶資料修改

## 📱 前台客戶功能（了解客戶操作）

### 客戶候位流程
1. **首頁查看**：客戶可看到目前叫號、下一位號碼、等待組數
2. **候位登記**：填寫完整表單（基本資料、地址、家人、諮詢主題）
   - **其他詳細內容**：若客戶選擇「其他」諮詢主題，會顯示文字輸入框可填寫詳細問題（最多500字符）
3. **狀態查詢**：支持姓名或電話擇一查詢候位狀態，姓名查詢包含家人姓名
4. **自助管理**：客戶可自行查看詳細資料、修改資料或取消預約
   - **詳細內容編輯**：若有填寫「其他」詳細內容，可在狀態頁面查看和編輯

### 智慧預估系統
- **計算邏輯**：基於總人數（本人+家人）× 每位客戶處理時間
- **顯示格式**：上下午時間格式（例：下午3點10分）
- **即時更新**：管理員調整設定後立即生效

## 🚨 常見問題與解決

### 登入問題
**問題**：無法登入管理後台
**解決方法**：
1. 確認網址正確：需要在網址後加上 `/admin/login`
2. 檢查帳號密碼：預設為 admin / admin123
3. 清除瀏覽器快取並重新嘗試
4. 聯繫技術人員檢查系統狀態

### 功能異常
**問題**：按鈕點擊無反應或功能失效
**解決方法**：
1. 重新整理頁面並重新登入
2. 檢查網路連線是否穩定
3. 嘗試不同瀏覽器（建議使用 Chrome、Firefox、Safari）
4. 清除瀏覽器快取和 Cookie

### 資料同步問題
**問題**：前台後台資訊不一致
**解決方法**：
1. 等待5-10秒讓系統自動同步
2. 重新整理前台頁面
3. 檢查網路連線穩定性
4. 聯繫技術人員檢查即時通訊功能

### 匯出功能問題
**問題**：無法匯出資料或匯出內容不完整
**解決方法**：
1. 確認有客戶資料可匯出
2. 嘗試不同的匯出格式（Excel或CSV）
3. 檢查瀏覽器下載設定
4. 重新登入後再次嘗試

### 簡化模式功能問題
**問題**：簡化模式切換無效果或候位登記仍要求完整資料
**解決方法**：
1. **檢查設定狀態**：確認系統設定頁面的簡化模式開關已正確切換
2. **重新整理頁面**：切換模式後重新整理登記頁面
3. **測試登記流程**：
   - 簡化模式ON：應該只需要填寫客戶姓名
   - 簡化模式OFF：需要填寫完整資料
4. **檢查網路連線**：確保設定變更已正確同步

### 公開候位登記開關功能問題 ★ 新功能
**問題**：公開候位登記開關無法正常控制前台顯示
**解決方法**：
1. **檢查開關狀態**：確認系統設定頁面的「公開候位登記設置」開關正確切換
2. **前台測試**：
   - 開關開啟：前台首頁應該顯示「我要候位」按鈕
   - 開關關閉：前台首頁隱藏「我要候位」按鈕
3. **清除快取**：重新整理前台頁面或清除瀏覽器快取
4. **管理員權限確認**：管理員登入狀態下應該始終可以看到候位登記功能
5. **檢查網路連線**：確保前後台狀態同步正常
6. **後台登記測試**：確認管理員後台「登記候位」浮動視窗功能正常
5. **查看警告提示**：注意系統顯示的模式狀態和警告資訊
6. **清除瀏覽器快取**：如果問題持續，嘗試清除快取後重新登入

**使用注意事項**：
- 簡化模式適用於緊急或快速登記場景
- 啟用簡化模式時，系統會自動填入預設值
- 建議在正常情況下使用標準模式，確保客戶資料完整性

## 📞 技術支援

### 聯繫方式
- **系統問題**：透過內部技術支援管道
- **操作疑問**：參考本使用手冊或聯繫系統管理員
- **緊急故障**：立即聯繫技術團隊

### 系統狀態檢查
- **前台網址**：https://online-waiting-queue-system.zeabur.app
- **後台網址**：https://online-waiting-queue-system.zeabur.app/admin/login
- **系統狀態**：可透過前台首頁檢查系統是否正常運作

## 💡 使用建議

### 日常操作流程
1. **開始營業前**：設定當日的辦事時間和系統開關
2. **營業期間**：定期檢查候位列表，及時叫號和標記完成
3. **結束營業後**：匯出當日資料備份，清除候位記錄（可選）

### 效率提升技巧
- **使用拖曳功能**：快速調整叫號順序，應對特殊情況
- **表格欄位自訂**：只顯示常用欄位，提升管理效率
- **定期匯出資料**：建立資料備份和分析習慣
- **熟悉快捷操作**：使用一鍵叫號和勾選完成提升速度

### 安全注意事項
- **安全登出**：使用完畢後記得登出系統
- **避免共用帳號**：每位管理員使用獨立帳號（如需要）
- **備份重要資料**：定期匯出客戶資料進行備份

---

## 🎯 快速上手指南

### 5分鐘快速入門
1. **登入系統**：使用 admin/admin123 登入後台
2. **設定時間**：在系統設定中設定下次辦事時間
3. **了解介面**：熟悉候位列表和操作按鈕
4. **測試功能**：嘗試勾選完成和一鍵叫號功能
5. **檢查前台**：開啟前台頁面確認資訊同步

### 第一次使用檢查清單
- [ ] 成功登入管理後台
- [ ] 設定下次辦事時間
- [ ] 確認候位系統已開啟
- [ ] 測試一鍵叫號功能
- [ ] 檢查前台首頁顯示
- [ ] 嘗試客戶候位登記流程
- [ ] 測試資料匯出功能

恭喜您！現在您已經準備好使用線上候位系統了。如有任何問題，請隨時查閱本手冊或聯繫技術支援團隊。 